(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Settings"],{"13bd":function(t,e,s){},"52a1":function(t,e,s){},7377:function(t,e,s){"use strict";s("13bd")},"8b0b":function(t,e,s){"use strict";s("b296")},b296:function(t,e,s){t.exports={primary:"#FF6C37",inverse:"#343a40",secondary:"#343a40",success:"#9ccc65",info:"#26c6da",warning:"#ffca28",danger:"#ef5350"}},c110:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("FlexBox",{staticClass:"pt-0",attrs:{direction:"column"}},[t.hasAllMandatoryDetails?t._e():s("Block",{staticClass:"mb-3"},[s("Alert",{attrs:{message:"Please take a moment to fill your necessary credentials first.",banner:""}})],1),s("Block",[s("Profile",{attrs:{user:t.user,"is-super-admin":t.isSuperAdmin,loading:t.fetchingMeta},on:{updated:t.fetchMeta}}),t.isSuperAdmin?t._e():s("ApiCredentials")],1)],1)},o=[],n=(s("d3b7"),s("5530")),i=(s("ab9e"),s("2c92")),r=s("2f62"),l=s("0814"),c=s("9559"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("FlexBox",{staticClass:"mb-3",attrs:{"align-items":"center",justify:"between"}},[s("h5",{staticClass:"m-0"},[t._v(" Profile Details ")]),s("FlexBox",{attrs:{"align-items":"start"}},[s("Button",{attrs:{color:"primary"},on:{click:function(e){t.isEditProfileModalShown=!0}}},[t._v(" Edit Profile ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary",bordered:""},on:{click:function(e){t.isChangePasswordModalShown=!0}}},[t._v(" Change Password ")])],1)],1),s("CardBase",{staticClass:"p-3"},[s("CardLoader",{attrs:{"is-loading":t.loading}},[t.user.organization_name?s("h4",{staticClass:"mx-2 mb-2 pb-2 border-bottom"},[s("span",[t._v(t._s(t.user.organization_name))])]):t._e(),s("FlexBox",{attrs:{wrap:"wrap"}},[s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("FlexBox",{staticClass:"p-3 flex-column flex-sm-row",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"mr-4"},[s("AvatarImage",{attrs:{shape:"square",height:"130",path:t.user.photo_url,type:"square"}})],1),s("Block",[s("tr",[s("th",[s("Icon",{attrs:{name:"user",type:"si",size:"regular"}})],1),s("td",[s("span",{staticClass:"font-weight-bold text-regular"},[t._v(t._s(t.user.first_name+" "+t.user.last_name))])])]),s("table",{staticClass:"table-borderless"},[s("tr",[s("th",[s("Icon",{attrs:{name:"envelope-o",size:"regular",color:"muted"}})],1),s("td",[t._v(" "+t._s(t.user.email)+" "),t.user.is_email_verified?s("Icon",{attrs:{type:"si",title:"Verified email",name:"check",color:"success",weight:"bold"}}):s("Icon",{attrs:{type:"si",title:"Email not verified",name:"info",color:"danger",weight:"bold"}})],1)]),s("tr",[s("th",[s("Icon",{attrs:{name:"phone",color:"muted",size:"regular"}})],1),s("td",[t.user.phone?s("span",[t._v(" "+t._s(t.user.phone)+" ")]):s("i",[t._v("Phone not set "),s("Icon",{attrs:{type:"si",name:"info",size:"small",color:"danger",weight:"bold"}})],1)])]),s("tr",[s("th",[s("Icon",{attrs:{name:"map-marker",size:"medium",color:"muted"}})],1),s("td",[t.user.address?s("span",[t._v(t._s(t.user.address))]):s("i",[t._v("Address not set "),s("Icon",{attrs:{name:"exclamation-circle",size:"small",color:"danger"}})],1)])])])])],1)],1),t.isSuperAdmin?t._e():s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"p-3 flex-auto"},[s("table",{staticClass:"table-borderless"},[s("tr",[s("th",[t._v(" Joined on: ")]),s("td",[t._v(" "+t._s(t.duration(t.user.created_at,!1))+" ")])]),s("tr",[s("th",[t._v(" KYC Status: ")]),s("td",[t.user.is_kyc_verified?s("span",[t._v(" Verified "),s("Icon",{attrs:{type:"si",name:"check",color:"success",weight:"bold"}})],1):s("span",[t._v(" Not verified "),s("Icon",{attrs:{type:"si",name:"info",color:"danger",weight:"bold"}})],1)])]),s("tr",[s("th",[t._v(" Registration number: ")]),s("td",[t._v(" "+t._s(t.user.registration_number||"N/A")+" ")])]),s("tr",[s("th",[t._v(" PAN number: ")]),s("td",[t._v(" "+t._s(t.user.pan_number||"N/A")+" ")])])])])],1),t.isSuperAdmin?t._e():s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"p-3 flex-auto"},[s("p",{staticClass:"font-weight-bold mb-2"},[t._v(" Sender IDs: ")]),s("table",{staticClass:"providers"},[s("tbody",[t.user.sender_id_ntc?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",attrs:{scope:"row"}},[t._v(" Ntc: ")]),s("td",[t._v(t._s(t.user.sender_id_ntc))])]):t._e(),t.user.sender_id_ncell?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",attrs:{scope:"row"}},[t._v(" Ncell: ")]),s("td",[t._v(t._s(t.user.sender_id_ncell))])]):t._e(),t.user.sender_id_smartcell?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",staticStyle:{width:"110px"},attrs:{scope:"row"}},[t._v(" SmartCell: ")]),s("td",[t._v(t._s(t.user.sender_id_smartcell))])]):t._e()])])])],1)],1)],1)],1),s("EditProfile",{attrs:{user:t.user,visible:t.isEditProfileModalShown},on:{success:function(e){return t.$emit("updated")},close:function(e){t.isEditProfileModalShown=!1}}}),s("ChangePassword",{attrs:{visible:t.isChangePasswordModalShown},on:{close:function(e){t.isChangePasswordModalShown=!1}}})],1)},u=[],h=s("27b9"),m=s("ad4f"),p=s("5d35"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{visible:t.visible,title:"Change password","modal-style":"max-width: 550px",loading:t.isSubmitting,"hide-controls":""},on:{submit:t.onSubmit,close:t.close}},[s("Form",{staticClass:"px-4 pb-2",on:{submit:t.onSubmit}},[s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"unlock-alt",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"Old Password",error:t.errors.current_password,required:""},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1)],1),s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"lock",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"New Password",required:""},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"lock",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"Confirm password",error:t.newPassword&&t.confirmPassword?t.passwordMatched||t.strongPassword||t.errors.new_password||t.error:"",required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),s("Row",[s("Column",{attrs:{size:"12"}},[s("FlexBox",{attrs:{justify:"end","align-items":"center"}},[s("RouterLink",{staticClass:"pr-3",attrs:{to:"/forgot-password"}},[t._v(" I forgot my password ")]),s("Button",{staticClass:"mr-2",attrs:{type:"submit",loading:t.isSubmitting,disabled:t.isSubmitting||!t.isValidated,color:"primary"}},[t._v(" Update ")]),s("Button",{attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},b=[],w=(s("a9e3"),s("53ca")),k=s("7fb4"),g=s("6436"),v=s("3786"),_=s("7200"),C=s("27dc"),x=s("1b32"),y=s("78b5"),S={name:"ChangePassword",components:{Modal:y["a"],Row:C["a"],Column:x["a"],FlexBox:c["a"],Icon:p["a"],Form:g["a"],InputText:k["a"],Button:m["a"]},props:{id:{type:[String,Number],default:null},editMode:{type:Boolean,default:!1},visible:{type:Boolean}},data:function(){return{oldPassword:"",newPassword:"",confirmPassword:"",errors:{},error:"",isSubmitting:!1}},computed:{passwordMatched:function(){var t=this.newPassword===this.confirmPassword;return t?null:"Password didn't match."},strongPassword:function(){var t=this.newPassword.length>5;return t?null:"Password must be at least of six characters."},isValidated:function(){return this.oldPassword.length&&null===this.passwordMatched&&null===this.strongPassword}},methods:{onSubmit:function(){var t=this;this.isSubmitting=!0,this.errors={},this.error="",Object(v["a"])(this.id,{current_password:this.oldPassword,new_password:this.newPassword}).then((function(e){var s=e.token,a=e.message;Object(_["c"])(s),t.$toast.success(a||"Password changed successfully."),t.close()})).catch((function(e){"object"===Object(w["a"])(e)?(t.errors=e,t.$toast.error("There was and error while updating passwords.")):(t.error=e,t.$toast.error(e,{duration:1e4}))})).finally((function(){t.isSubmitting=!1}))},close:function(){this.$emit("close"),this.oldPassword="",this.newPassword="",this.confirmPassword=""}}},B=S,T=s("2877"),P=Object(T["a"])(B,f,b,!1,null,null,null),M=P.exports,F=s("fce3"),j=s("020b"),I=s("c2cd"),A={name:"Profile",components:{CardLoader:I["a"],CardBase:j["a"],AvatarImage:F["a"],ChangePassword:M,Icon:p["a"],FlexBox:c["a"],Button:m["a"],Block:l["a"],EditProfile:h["a"]},props:{user:{type:Object,default:function(){return{}}},loading:{type:Boolean},isSuperAdmin:{type:Boolean}},data:function(){return{isSubmitting:!1,isEditProfileModalShown:!1,isChangePasswordModalShown:!1}},computed:{},methods:{onPhotoUpload:function(t){this.input.photo=t.filename,this.input.photo_url=t.url}}},$=A,O=(s("7377"),Object(T["a"])($,d,u,!1,null,"bc1054c6",null)),L=O.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("FlexBox",{staticClass:"mb-3",attrs:{"align-items":"center",justify:"between"}},[s("h5",{staticClass:"m-0"},[t._v(" API credentials ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary",bordered:""},on:{click:function(e){t.isRequestTokenModalShown=!0}}},[s("FlexBox",{attrs:{"align-items":"center"}},[s("span",[t._v("Create New Token")])])],1)],1),s("CardBase",{staticClass:"p-3"},[s("TokensTable",{attrs:{"is-loading":t.isListingTokens,tokens:t.tokens,"data-filters":t.dataFilters},on:{reload:t.listTokens,delete:t.onDeleteToken,edit:t.onEditToken}})],1),s("EditToken",{attrs:{token:t.targetToken,visible:t.isEditModalShown},on:{success:t.fetchData,close:function(e){t.isEditModalShown=!1}}}),s("DeleteToken",{attrs:{visible:t.isDeleteModalShown,token:t.targetToken},on:{success:t.fetchData,close:function(e){t.isDeleteModalShown=!1}}}),s("CreateToken",{attrs:{visible:t.isRequestTokenModalShown},on:{success:t.listTokens,close:function(e){t.isRequestTokenModalShown=!1}}})],1)},D=[],N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{visible:t.visible,title:t.modalTitle,"modal-style":"max-width: 450px","hide-controls":""}},[s("Block",{staticClass:"px-4 pb-2"},[t.isTokenReceived||t.token?s("Block",[s("div",{staticClass:"input-group input-group-lg"},[s("input",{staticClass:"form-control border",attrs:{id:"token",readonly:""},domProps:{value:t.token}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-secondary",attrs:{id:"clip",type:"button","data-clipboard-target":"#token"}},[s("Icon",{attrs:{name:"clipboard"}})],1)])]),s("p",{staticClass:" mt-2 mb-3 text-primary"},[t._v(" Make sure to copy this token. We won't show it again after you close this modal or leave this page. ")]),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Close ")])],1)],1):s("Form",{on:{submit:t.onSubmit}},[s("InputText",{attrs:{required:"",title:"Name",placeholder:"Application name or where this token will be used",error:t.error},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("p",{staticClass:"font-italic text-right mb-3"},[t._v(" (Don't worry, token names can be changed later.) ")]),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{attrs:{type:"submit",color:"primary",loading:t.isSubmitting}},[t._v(" Create Token ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)},R=[],U=s("b311"),z=s.n(U),q=s("9819");function V(t){return Object(q["a"])({url:"tokens",method:"post",data:t})}function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.cancelPrevious,s=void 0===e||e;return Object(q["a"])({url:"tokens",method:"get",params:t,cancelPrevious:s})}function H(t,e){return Object(q["a"])({url:"tokens/".concat(t,"/status"),method:"patch",data:{is_active:e?1:0}})}function K(t,e){return Object(q["a"])({url:"tokens/".concat(t),method:"patch",data:e})}function W(t){return Object(q["a"])({url:"tokens/".concat(t),method:"delete"})}var Y={name:"CreateToken",components:{Icon:p["a"],Button:m["a"],FlexBox:c["a"],InputText:k["a"],Block:l["a"],Form:g["a"],Modal:y["a"]},props:{visible:{type:Boolean},isLoading:{type:Boolean}},data:function(){return{modalTitle:"Create new token",title:"",error:"",isSubmitting:!1,token:"",isTokenReceived:!1,clipboard:null}},mounted:function(){this.clipboard=new z.a("#clip")},methods:{onSubmit:function(){var t=this,e=this.title;this.isSubmitting=!0,V({title:e}).then((function(e){var s=e.temp_token;t.token=s,t.isTokenReceived=!0,t.modalTitle="Token created successfully",t.$emit("success")})).catch((function(e){t.error=e.title||e.message||e})).finally((function(){t.isSubmitting=!1}))},close:function(){this.modalTitle="Create new token",this.title="",this.token="",this.error="",this.isTokenReceived=!1,this.$emit("close")}}},G=Y,Q=Object(T["a"])(G,N,R,!1,null,"1beba295",null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("UpdateStatus",{attrs:{visible:t.isStatusModalShown,field:"token: <b>"+t.targetToken.title+"</b>",status:t.targetToken.status,submission:t.updateStatus},on:{success:t.setStatus,close:function(e){t.isStatusModalShown=!1}}}),s("CardBase",{staticClass:"mb-3"},[s("Row",[s("Block",{staticClass:"col-md-3"},[s("InputSelect",{attrs:{title:"Status","option-value":"value","option-text":"name",options:t.statuses},on:{select:function(e){return t.$emit("reload")}},model:{value:t.dataFilters.status,callback:function(e){t.$set(t.dataFilters,"status",e)},expression:"dataFilters.status"}})],1),s("Block",{staticClass:"col-md-6 offset-md-3"},[s("Search",{staticClass:"mt-4 pt-1",attrs:{debounce:500},on:{change:function(e){return t.$emit("reload")}},model:{value:t.dataFilters.keyword,callback:function(e){t.$set(t.dataFilters,"keyword",e)},expression:"dataFilters.keyword"}})],1)],1)],1),s("CardBase",{staticClass:"m-0",class:t.isLoading?"":"with-table"},[s("CardLoader",{attrs:{"is-loading":t.isLoading}},[s("Block",{staticClass:"table-responsive collapsible"},[t.tokens.length?s("table",{staticClass:"table m-0"},[s("thead",{staticClass:"bg-gray-lighter"},[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"60px"}},[t._v(" # ")]),s("th",{staticClass:"pl-4 wrappable"},[t._v(" Token Name ")]),s("th",{staticStyle:{width:"15%"}},[t._v(" Token ")]),s("th",[t._v(" Hits ")]),s("th",{staticStyle:{width:"120px"}},[t._v(" Last Used ")]),s("th",{staticClass:"d-none d-xl-table-cell",staticStyle:{width:"120px"}},[t._v(" Last Used IP ")]),s("th",{staticClass:"text-right"},[t._v(" Created ")]),s("th",{staticClass:"text-center"},[t._v(" Status ")]),s("th",{staticStyle:{width:"100px"}})])]),s("tbody",t._l(t.tokens,(function(e,a){return s("tr",{key:e.id,attrs:{title:"view token in detail"},on:{click:function(s){return t.$emit("view",e.id)}}},[s("td",{staticClass:"text-center"},[s("span",{staticClass:"hidden-info"},[t._v("#")]),s("span",[t._v(t._s(a+1))])]),s("td",{staticClass:"pl-4 ml-4"},[s("span",{staticClass:"hidden-info"},[t._v("Token name:")]),s("span",{staticClass:"wrappable"},[t._v(t._s(e.title||"N/A"))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Token:")]),s("span",{staticClass:"wrappable"},[t._v(t._s(e.token_chunk||" N/A"))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Hits:")]),s("span",[t._v(t._s(e.hits||0))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Last used:")]),s("span",[t._v(t._s(e.last_used_at?t.duration(e.last_used_at):"N/A"))])]),s("td",{staticClass:"d-none d-xl-table-cell"},[s("span",{staticClass:"hidden-info"},[t._v("Last used IP:")]),s("span",[t._v(t._s(e.last_used_ip||"N/A"))])]),s("td",{staticClass:"text-right"},[s("span",{staticClass:"hidden-info"},[t._v("Created:")]),s("span",[t._v(t._s(t.duration(e.created_at)))])]),s("td",{staticClass:"text-center"},[s("span",{staticClass:"hidden-info"},[t._v("Status")]),s("StatusColumn",{attrs:{status:e.is_active},on:{change:function(s){return t.onStatusUpdate(e,s)}}})],1),s("td",[s("span",{staticClass:"hidden-info"}),s("FlexBox",{attrs:{"align-items":"center",justify:"end"}},[s("Button",{staticClass:"p-2 mx-1 text-dark",attrs:{color:"light",title:"edit token"},on:{click:function(s){return t.$emit("edit",e)}}},[s("Icon",{attrs:{type:"fa",name:"pencil",size:"regular"}})],1),s("Button",{staticClass:"p-2 mx-1 text-danger",attrs:{color:"light",title:"delete token"},on:{click:function(s){return t.$emit("delete",e)}}},[s("Icon",{attrs:{type:"fa",name:"trash",size:"regular"}})],1)],1)],1)])})),0)]):s("Block",{staticClass:"min-height-300 d-flex flex-row justify-content-center align-items-center"},[s("h4",{staticClass:"text-gray-dark font-w300"},[t._v(" Tokens not Found ")])])],1)],1)],1)],1)},tt=[],et=s("2ef0"),st=s("0af5"),at=s("ac13"),ot=s("1824"),nt=s("dd08"),it={name:"TokensTable",components:{Block:l["a"],FlexBox:c["a"],Button:m["a"],Row:C["a"],Search:nt["a"],UpdateStatus:ot["a"],Icon:p["a"],InputSelect:st["a"],CardBase:j["a"],CardLoader:I["a"],StatusColumn:at["a"]},props:{tokens:{type:Array,default:function(){return[]}},dataFilters:{type:Object,default:function(){return{}}},isLoading:{type:Boolean}},data:function(){return{targetToken:{},isStatusModalShown:!1,statuses:[{name:"All",value:null},{name:"Active",value:1},{name:"Inactive",value:0}]}},methods:{updateStatus:function(){var t=this.targetToken,e=t.id,s=t.status;return H(e,s)},setStatus:function(){var t=this.targetToken,e=Object(et["findIndex"])(this.tokens,["id",t.id]);this.tokens[e].is_active=t.status?1:0},onStatusUpdate:function(t,e){this.targetToken=Object(n["a"])(Object(n["a"])({},t),{},{status:e}),this.isStatusModalShown=!0}}},rt=it,lt=(s("da32"),Object(T["a"])(rt,Z,tt,!1,null,"ff66dcb6",null)),ct=lt.exports,dt=s("7228"),ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{title:"Update token","hide-controls":"","modal-style":"max-width: 500px;",visible:t.visible},on:{closed:t.reset,close:t.close}},[s("Block",{staticClass:"px-4 pb-2"},[s("Form",{on:{submit:t.onSubmit}},[s("InputText",{attrs:{required:"",title:"Name",placeholder:"Application name or where this token will be used"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{attrs:{type:"submit",color:"primary",loading:t.isSubmitting}},[t._v(" Update ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)},ht=[],mt={name:"EditToken",components:{Button:m["a"],FlexBox:c["a"],Block:l["a"],InputText:k["a"],Modal:y["a"],Form:g["a"]},props:{token:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1}},data:function(){return{title:"",error:{},isLoading:!1,isSubmitting:!1,isUserFormShown:!0}},watch:{token:{handler:function(t){var e=t.title;this.title=e},immediate:!0,deep:!0}},methods:{onSubmit:function(){var t=this;this.isSubmitting=!0;var e=this.title;K(this.token.id,{title:e}).then((function(e){t.error={},t.close(),t.$emit("success",e),t.$toast.success("Token updated successfully"),t.close()})).catch((function(e){"object"===Object(w["a"])(e)?t.error=e:t.$toast.error(e)})).finally((function(){t.isSubmitting=!1}))},close:function(){this.isLoading&&this.isSubmitting||this.$emit("close")},reset:function(){this.token={},this.isLoading=!1,this.isUserFormShown=!0}}},pt=mt,ft=Object(T["a"])(pt,ut,ht,!1,null,"a3de4e48",null),bt=ft.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{staticClass:"delete-token-modal",attrs:{title:"Delete this token permanently?",visible:t.visible,loading:t.isLoading,"modal-style":"max-width: 550px;"},on:{close:t.close,success:t.deleteToken}},[s("Block",{staticClass:"px-4"},[s("Block",{staticClass:"token-details"},[s("table",{staticClass:"w-100"},[s("tbody",[s("tr",[s("th",{staticStyle:{width:"60px"}},[t._v(" Name: ")]),s("td",[t._v(" "+t._s(t.token.title||" N/A")+" ")])]),s("tr",[s("th",{staticStyle:{width:"70px"}},[t._v(" Token: ")]),s("td",[t._v(" "+t._s(t.token.token_chunk||" N/A")+" ")])])])])])],1)],1)},kt=[],gt={name:"DeleteToken",components:{Block:l["a"],Modal:y["a"]},props:{visible:{type:Boolean,default:!1},token:{type:Object,default:function(){return{}}}},data:function(){return{isLoading:!1}},methods:{deleteToken:function(){var t=this;this.isLoading=!0,W(this.token.id).then((function(){t.$emit("success"),t.$toast.success("Token deleted successfully!"),t.close()})).catch((function(e){var s=e||"Couldn't delete token.";t.$toast.error(s)})).finally((function(){t.isLoading=!1,t.close()}))},close:function(){this.isLoading||this.$emit("close")}}},vt=gt,_t=(s("8b0b"),Object(T["a"])(vt,wt,kt,!1,null,null,null)),Ct=_t.exports,xt={name:"ApiCredentials",components:{Block:l["a"],DeleteToken:Ct,EditToken:bt,CardBase:j["a"],TokensTable:ct,CreateToken:X,Button:m["a"],FlexBox:c["a"]},props:{id:{type:[String,Number],default:null},editMode:{type:Boolean,default:!1},isSuper:{type:Boolean}},data:function(){return{isRequestTokenModalShown:!1,isListingTokens:!1,isEditModalShown:!1,isDeleteModalShown:!1,isStatusModalShown:!1,targetToken:{},tokens:[],dataFilters:{status:1,keyword:""},pagination:{pages:1,current:1,perPage:15}}},computed:{passwordMatched:function(){var t=this.newPassword===this.confirmPassword;return t?null:"Password didn't match."},strongPassword:function(){var t=this.newPassword.length>5;return t?null:"Password must be at least of six characters."},isValidated:function(){return this.oldPassword.length&&null===this.passwordMatched&&null===this.strongPassword}},created:function(){this.fetchData()},mounted:function(){var t=this;this.$bus.on("router-link-clicked",(function(){t.isListingTokens||t.fetchData()}))},beforeDestroy:function(){this.$bus.removeAllListeners("router-link-clicked")},methods:{fetchData:function(){this.listTokens()},listTokens:function(t){var e=this;this.isListingTokens=!0;var s=this.dataFilters,a=s.status,o=s.keyword;this.isLoading=!0,J({is_active:a||null,keyword:o||null,page:t||null,per_page:this.pagination.perPage}).then((function(t){var s=t.data,a=t.meta;e.tokens=s,e.pagination=Object(dt["b"])(a)})).catch((function(t){"request-cancel"!==t&&e.$toast.error("There was an error while fetching data.")})).finally((function(){e.isListingTokens=!1}))},onEditToken:function(t){this.targetToken=t,this.isEditModalShown=!0},onDeleteToken:function(t){this.targetToken=t,this.isDeleteModalShown=!0}}},yt=xt,St=Object(T["a"])(yt,E,D,!1,null,null,null),Bt=St.exports,Tt={name:"Settings",components:{ApiCredentials:Bt,FlexBox:c["a"],Block:l["a"],Profile:L,Alert:i["a"]},props:{page:{type:String,default:""}},data:function(){return{loading:!0,fetchingMeta:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["user","hasAllMandatoryDetails","role"])),{},{isSuperAdmin:function(){return"SUPER_ADMIN"===this.role}}),methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])(["fetchUserMeta"])),{},{fetchMeta:function(){var t=this;this.fetchingMeta=!0,this.fetchUserMeta().finally((function(){t.fetchingMeta=!1}))}})},Pt=Tt,Mt=Object(T["a"])(Pt,a,o,!1,null,"b90d379c",null);e["default"]=Mt.exports},da32:function(t,e,s){"use strict";s("52a1")}}]);