(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ForgotPassword"],{"00dc":function(t,e,s){"use strict";s("7b23")},"7b23":function(t,e,s){},d855:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",{class:{"position-relative":t.visible}},[t._t("default"),t.visible?s("Block",{staticClass:"drop-shadow"}):t._e()],2)},a=[],r=s("0814"),i={name:"ForeShadow",components:{Block:r["a"]},props:{visible:{type:Boolean,default:!1}}},n=i,l=(s("00dc"),s("2877")),u=Object(l["a"])(n,o,a,!1,null,"d9579a32",null);e["a"]=u.exports},dae9:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",["success"!==t.currentLayout?s("FlexBox",{staticClass:"my-3",attrs:{justify:"start"}},[s("h3",[t._v(" Reset your password ")])]):t._e(),t.isCurrent("email")?s("EmailForm",{attrs:{loading:t.isLoading,error:t.emailError},on:{submit:t.sendResetEmail}}):t.isCurrent("code")?s("CodeForm",{staticClass:"animated fadeInRight",attrs:{loading:t.isLoading,error:t.error},on:{submit:t.validateResetToken}}):t.isCurrent("password")?s("PasswordForm",{staticClass:"animated fadeInRight",attrs:{error:t.error,loading:t.isLoading},on:{submit:t.resetPassword}}):t._e()],1)},a=[],r=s("2f62"),i=s("3786"),n=s("0814"),l=s("7200"),u=s("9559"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ForeShadow",{attrs:{visible:t.loading}},[s("Form",{on:{submit:t.onSubmit}},[s("Row",[s("Column",{attrs:{size:"12"}},[s("InputText",{attrs:{title:"New Password",type:"password","input-class":"p-4 text-medium","input-style":"height: 50px",required:""},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),s("Row",[s("Column",{attrs:{size:"12"}},[s("InputText",{attrs:{title:"Confirm Password",type:"password","input-class":"p-4 text-medium","input-style":"height: 50px",required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),s("FlexBox",{attrs:{justify:"between"}},[s("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.error)+" ")])]),s("FlexBox",{staticClass:"py-3",attrs:{justify:"between"}},[s("Button",{staticClass:"btn-block btn-hero",attrs:{type:"submit",color:"primary",loading:t.loading,size:"lg"}},[t._v(" Reset Password ")])],1)],1)],1)},d=[],m=s("7fb4"),p=s("d855"),h=s("ad4f"),w=s("27dc"),b=s("1b32"),f=s("6436"),g={name:"ResetPassword",components:{InputText:m["a"],ForeShadow:p["a"],Button:h["a"],Row:w["a"],Column:b["a"],Form:f["a"],FlexBox:u["a"]},props:{loading:{type:Boolean,default:!1},error:{type:String,default:""}},data(){return{newPassword:"",confirmPassword:""}},methods:{onSubmit(){this.$emit("submit",{newPassword:this.newPassword,confirmPassword:this.confirmPassword})}}},x=g,y=s("2877"),C=Object(y["a"])(x,c,d,!1,null,null,null),v=C.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Form",{on:{submit:t.onSubmit}},[s("ForeShadow",{attrs:{visible:t.loading}},[s("FlexBox",{staticClass:"mx-3",attrs:{justify:"start"}},[s("p",{staticClass:"mb-3",staticStyle:{"font-size":"17px"}},[t._v(" We've sent you an email containing code. Please enter the code below to reset your password. ")])]),s("Row",[s("Column",{attrs:{size:"12"}},[s("InputText",{attrs:{placeholder:"Enter Code",error:t.error,"input-class":"p-4 text-medium","input-style":"height: 50px",required:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)],1),s("Block",{staticClass:"mt-3"},[s("Button",{staticClass:"btn-block btn-hero",attrs:{type:"submit",color:"primary",loading:t.loading,size:"lg"}},[t._v(" Confirm ")])],1)],1)],1)},k=[],B={name:"CodeForm",components:{Block:n["a"],InputText:m["a"],ForeShadow:p["a"],Button:h["a"],Column:b["a"],Form:f["a"],FlexBox:u["a"]},props:{loading:{type:Boolean,default:!1},error:{type:String,default:""}},data(){return{code:""}},methods:{onSubmit(){this.$emit("submit",this.code)}}},P=B,_=Object(y["a"])(P,F,k,!1,null,null,null),L=_.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("Form",{on:{submit:t.onSubmit}},[s("ForeShadow",{attrs:{visible:t.loading}},[s("FlexBox",{attrs:{justify:"start"}},[s("p",{staticClass:"mb-3",staticStyle:{"font-size":"17px"}},[t._v(" Please enter your email to reset your password ")])]),s("Row",[s("Column",{attrs:{size:"12"}},[s("InputText",{attrs:{type:"email",placeholder:"Enter Email","input-class":"p-4 text-medium","input-style":"height: 50px",error:t.error,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),s("Block",{staticClass:"mt-3"},[s("Button",{staticClass:"btn-block btn-hero",attrs:{type:"submit",color:"primary",loading:t.loading,size:"lg"}},[t._v(" Confirm ")])],1)],1)],1),s("FlexBox",{staticClass:"m-4",attrs:{justify:"around",flex:"wrap"}},[s("RouterLink",{staticClass:"link-effect mb-3",attrs:{to:"login"}},[s("Icon",{staticClass:"mr-2",attrs:{type:"si",name:"login"}}),t._v(" Back to Login ")],1),s("RouterLink",{staticClass:"link-effect mb-3",attrs:{to:"signup"}},[s("Icon",{staticClass:"mr-2",attrs:{name:"plus"}}),t._v(" Create New Account ")],1)],1)],1)},j=[],R=s("5d35"),E={name:"EmailForm",components:{FlexBox:u["a"],Block:n["a"],Icon:R["a"],InputText:m["a"],ForeShadow:p["a"],Button:h["a"],Form:f["a"],Row:w["a"],Column:b["a"]},props:{loading:{type:Boolean,default:!1},error:{type:String,default:""}},data(){return{email:""}},methods:{onSubmit(){this.$emit("submit",this.email)}}},I=E,$=Object(y["a"])(I,S,j,!1,null,null,null),O=$.exports,T={name:"ForgotPassword",components:{FlexBox:u["a"],Block:n["a"],EmailForm:O,CodeForm:L,PasswordForm:v},data(){return{currentLayout:"email",isLoading:!1,emailError:"",email:"",token:"",error:""}},methods:{...Object(r["b"])(["login"]),isCurrent(t){return this.currentLayout===t},changeLayout(t){this.currentLayout=t},sendResetEmail(t){this.isLoading=!0,Object(i["j"])({email:t}).then(()=>{this.email=t,this.changeLayout("code")}).catch(t=>{this.emailError=t.email||t.message||t}).finally(()=>{this.isLoading=!1})},validateResetToken(t){this.error="",this.isLoading=!0,Object(i["b"])(t).then(e=>{if(e)return this.changeLayout("password"),void(this.token=t);this.error="The token that you entered is not valid."}).catch(t=>{this.$toast.error(t.message||t)}).finally(()=>{this.isLoading=!1})},resetPassword({newPassword:t,confirmPassword:e}){this.error="",t===e?(this.isLoading=!0,Object(i["h"])(this.token,t).then(({token:t})=>{Object(l["c"])(t),this.$toast.success("Account recovered successfully"),this.$router.push("/")}).catch(t=>{this.error=t}).finally(()=>{this.isLoading=!1})):this.error="Passwords didn't match"}}},z=T,q=Object(y["a"])(z,o,a,!1,null,null,null);e["default"]=q.exports}}]);