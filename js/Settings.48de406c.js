(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Settings"],{"13bd":function(t,e,s){},"52a1":function(t,e,s){},7377:function(t,e,s){"use strict";s("13bd")},"8b0b":function(t,e,s){"use strict";s("b296")},b296:function(t,e,s){t.exports={primary:"#FF6C37",inverse:"#343a40",secondary:"#343a40",success:"#9ccc65",info:"#26c6da",warning:"#ffca28",danger:"#ef5350"}},c110:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("FlexBox",{staticClass:"pt-0",attrs:{direction:"column"}},[t.hasAllMandatoryDetails?t._e():s("Block",{staticClass:"mb-3"},[s("Alert",{attrs:{message:"Please take a moment to fill your necessary credentials first.",banner:""}})],1),s("Block",[s("Profile",{attrs:{user:t.user,"is-super-admin":t.isSuperAdmin,loading:t.fetchingMeta},on:{updated:t.fetchMeta}}),t.isSuperAdmin?t._e():s("ApiCredentials")],1)],1)},o=[],i=(s("ab9e"),s("2c92")),n=s("2f62"),r=s("0814"),l=s("9559"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("FlexBox",{staticClass:"mb-3",attrs:{"align-items":"center",justify:"between"}},[s("h5",{staticClass:"m-0"},[t._v(" Profile Details ")]),s("FlexBox",{attrs:{"align-items":"start"}},[s("Button",{attrs:{color:"primary"},on:{click:function(e){t.isEditProfileModalShown=!0}}},[t._v(" Edit Profile ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary",bordered:""},on:{click:function(e){t.isChangePasswordModalShown=!0}}},[t._v(" Change Password ")])],1)],1),s("CardBase",{staticClass:"p-3"},[s("CardLoader",{attrs:{"is-loading":t.loading}},[t.user.organization_name?s("h4",{staticClass:"mx-2 mb-2 pb-2 border-bottom"},[s("span",[t._v(t._s(t.user.organization_name))])]):t._e(),s("FlexBox",{attrs:{wrap:"wrap"}},[s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("FlexBox",{staticClass:"p-3 flex-column flex-sm-row",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"mr-4"},[s("AvatarImage",{attrs:{shape:"square",height:"130",path:t.user.photo_url,type:"square"}})],1),s("Block",[s("tr",[s("th",[s("Icon",{attrs:{name:"user",type:"si",size:"regular"}})],1),s("td",[s("span",{staticClass:"font-weight-bold text-regular"},[t._v(t._s(t.user.first_name+" "+t.user.last_name))])])]),s("table",{staticClass:"table-borderless"},[s("tr",[s("th",[s("Icon",{attrs:{name:"envelope-o",size:"regular",color:"muted"}})],1),s("td",[t._v(" "+t._s(t.user.email)+" "),t.user.is_email_verified?s("Icon",{attrs:{type:"si",title:"Verified email",name:"check",color:"success",weight:"bold"}}):s("Icon",{attrs:{type:"si",title:"Email not verified",name:"info",color:"danger",weight:"bold"}})],1)]),s("tr",[s("th",[s("Icon",{attrs:{name:"phone",color:"muted",size:"regular"}})],1),s("td",[t.user.phone?s("span",[t._v(" "+t._s(t.user.phone)+" ")]):s("i",[t._v("Phone not set "),s("Icon",{attrs:{type:"si",name:"info",size:"small",color:"danger",weight:"bold"}})],1)])]),s("tr",[s("th",[s("Icon",{attrs:{name:"map-marker",size:"medium",color:"muted"}})],1),s("td",[t.user.address?s("span",[t._v(t._s(t.user.address))]):s("i",[t._v("Address not set "),s("Icon",{attrs:{name:"exclamation-circle",size:"small",color:"danger"}})],1)])])])])],1)],1),t.isSuperAdmin?t._e():s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"p-3 flex-auto"},[s("table",{staticClass:"table-borderless"},[s("tr",[s("th",[t._v(" Joined on: ")]),s("td",[t._v(" "+t._s(t.duration(t.user.created_at,!1))+" ")])]),s("tr",[s("th",[t._v(" KYC Status: ")]),s("td",[t.user.is_kyc_verified?s("span",[t._v(" Verified "),s("Icon",{attrs:{type:"si",name:"check",color:"success",weight:"bold"}})],1):s("span",[t._v(" Not verified "),s("Icon",{attrs:{type:"si",name:"info",color:"danger",weight:"bold"}})],1)])]),s("tr",[s("th",[t._v(" Registration number: ")]),s("td",[t._v(" "+t._s(t.user.registration_number||"N/A")+" ")])]),s("tr",[s("th",[t._v(" PAN number: ")]),s("td",[t._v(" "+t._s(t.user.pan_number||"N/A")+" ")])])])])],1),t.isSuperAdmin?t._e():s("FlexBox",{staticClass:"bg-light m-2",attrs:{"align-items":"stretch",flex:"auto"}},[s("Block",{staticClass:"p-3 flex-auto"},[s("p",{staticClass:"font-weight-bold mb-2"},[t._v(" Sender IDs: ")]),s("table",{staticClass:"providers"},[s("tbody",[t.user.sender_id_ntc?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",attrs:{scope:"row"}},[t._v(" Ntc: ")]),s("td",[t._v(t._s(t.user.sender_id_ntc))])]):t._e(),t.user.sender_id_ncell?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",attrs:{scope:"row"}},[t._v(" Ncell: ")]),s("td",[t._v(t._s(t.user.sender_id_ncell))])]):t._e(),t.user.sender_id_smartcell?s("tr",[s("th",{staticClass:"font-weight-normal text-uppercase",staticStyle:{width:"110px"},attrs:{scope:"row"}},[t._v(" SmartCell: ")]),s("td",[t._v(t._s(t.user.sender_id_smartcell))])]):t._e()])])])],1)],1)],1)],1),s("EditProfile",{attrs:{user:t.user,visible:t.isEditProfileModalShown},on:{success:function(e){return t.$emit("updated")},close:function(e){t.isEditProfileModalShown=!1}}}),s("ChangePassword",{attrs:{visible:t.isChangePasswordModalShown},on:{close:function(e){t.isChangePasswordModalShown=!1}}})],1)},d=[],u=s("27b9"),h=s("ad4f"),m=s("5d35"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{visible:t.visible,title:"Change password","modal-style":"max-width: 550px",loading:t.isSubmitting,"hide-controls":""},on:{submit:t.onSubmit,close:t.close}},[s("Form",{staticClass:"px-4 pb-2",on:{submit:t.onSubmit}},[s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"unlock-alt",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"Old Password",error:t.errors.current_password,required:""},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1)],1),s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"lock",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"New Password",required:""},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1)],1),s("Row",[s("Column",{staticClass:"d-none d-sm-block",attrs:{sm:"1"}},[s("FlexBox",{staticClass:"h-100 w-100",attrs:{"align-items":"center",justify:"center"}},[s("Icon",{attrs:{name:"lock",size:"large",color:"muted"}})],1)],1),s("Column",{attrs:{sm:"11"}},[s("InputText",{attrs:{type:"password",title:"Confirm password",error:t.newPassword&&t.confirmPassword?t.passwordMatched||t.strongPassword||t.errors.new_password||t.error:"",required:""},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),s("Row",[s("Column",{attrs:{size:"12"}},[s("FlexBox",{attrs:{justify:"end","align-items":"center"}},[s("RouterLink",{staticClass:"pr-3",attrs:{to:"/forgot-password"}},[t._v(" I forgot my password ")]),s("Button",{staticClass:"mr-2",attrs:{type:"submit",loading:t.isSubmitting,disabled:t.isSubmitting||!t.isValidated,color:"primary"}},[t._v(" Update ")]),s("Button",{attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},b=[],f=s("7fb4"),w=s("6436"),k=s("3786"),g=s("7200"),_=s("27dc"),v=s("1b32"),C=s("78b5"),x={name:"ChangePassword",components:{Modal:C["a"],Row:_["a"],Column:v["a"],FlexBox:l["a"],Icon:m["a"],Form:w["a"],InputText:f["a"],Button:h["a"]},props:{id:{type:[String,Number],default:null},editMode:{type:Boolean,default:!1},visible:{type:Boolean}},data(){return{oldPassword:"",newPassword:"",confirmPassword:"",errors:{},error:"",isSubmitting:!1}},computed:{passwordMatched(){const t=this.newPassword===this.confirmPassword;return t?null:"Password didn't match."},strongPassword(){const t=this.newPassword.length>5;return t?null:"Password must be at least of six characters."},isValidated(){return this.oldPassword.length&&null===this.passwordMatched&&null===this.strongPassword}},methods:{onSubmit(){this.isSubmitting=!0,this.errors={},this.error="",Object(k["a"])(this.id,{current_password:this.oldPassword,new_password:this.newPassword}).then(({token:t,message:e})=>{Object(g["c"])(t),this.$toast.success(e||"Password changed successfully."),this.close()}).catch(t=>{"object"===typeof t?(this.errors=t,this.$toast.error("There was and error while updating passwords.")):(this.error=t,this.$toast.error(t,{duration:1e4}))}).finally(()=>{this.isSubmitting=!1})},close(){this.$emit("close"),this.oldPassword="",this.newPassword="",this.confirmPassword=""}}},y=x,S=s("2877"),B=Object(S["a"])(y,p,b,!1,null,null,null),T=B.exports,P=s("fce3"),M=s("020b"),F=s("c2cd"),I={name:"Profile",components:{CardLoader:F["a"],CardBase:M["a"],AvatarImage:P["a"],ChangePassword:T,Icon:m["a"],FlexBox:l["a"],Button:h["a"],Block:r["a"],EditProfile:u["a"]},props:{user:{type:Object,default(){return{}}},loading:{type:Boolean},isSuperAdmin:{type:Boolean}},data(){return{isSubmitting:!1,isEditProfileModalShown:!1,isChangePasswordModalShown:!1}},computed:{},methods:{onPhotoUpload(t){this.input.photo=t.filename,this.input.photo_url=t.url}}},j=I,$=(s("7377"),Object(S["a"])(j,c,d,!1,null,"bc1054c6",null)),A=$.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("FlexBox",{staticClass:"mb-3",attrs:{"align-items":"center",justify:"between"}},[s("h5",{staticClass:"m-0"},[t._v(" API credentials ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary",bordered:""},on:{click:function(e){t.isRequestTokenModalShown=!0}}},[s("FlexBox",{attrs:{"align-items":"center"}},[s("span",[t._v("Create New Token")])])],1)],1),s("CardBase",{staticClass:"p-3"},[s("TokensTable",{attrs:{"is-loading":t.isListingTokens,tokens:t.tokens,"data-filters":t.dataFilters},on:{reload:t.listTokens,delete:t.onDeleteToken,edit:t.onEditToken}})],1),s("EditToken",{attrs:{token:t.targetToken,visible:t.isEditModalShown},on:{success:t.fetchData,close:function(e){t.isEditModalShown=!1}}}),s("DeleteToken",{attrs:{visible:t.isDeleteModalShown,token:t.targetToken},on:{success:t.fetchData,close:function(e){t.isDeleteModalShown=!1}}}),s("CreateToken",{attrs:{visible:t.isRequestTokenModalShown},on:{success:t.listTokens,close:function(e){t.isRequestTokenModalShown=!1}}})],1)},E=[],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{visible:t.visible,title:t.modalTitle,"modal-style":"max-width: 450px","hide-controls":""}},[s("Block",{staticClass:"px-4 pb-2"},[t.isTokenReceived||t.token?s("Block",[s("div",{staticClass:"input-group input-group-lg"},[s("input",{staticClass:"form-control border",attrs:{id:"token",readonly:""},domProps:{value:t.token}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-secondary",attrs:{id:"clip",type:"button","data-clipboard-target":"#token"}},[s("Icon",{attrs:{name:"clipboard"}})],1)])]),s("p",{staticClass:" mt-2 mb-3 text-primary"},[t._v(" Make sure to copy this token. We won't show it again after you close this modal or leave this page. ")]),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Close ")])],1)],1):s("Form",{on:{submit:t.onSubmit}},[s("InputText",{attrs:{required:"",title:"Name",placeholder:"Application name or where this token will be used",error:t.error},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("p",{staticClass:"font-italic text-right mb-3"},[t._v(" (Don't worry, token names can be changed later.) ")]),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{attrs:{type:"submit",color:"primary",loading:t.isSubmitting}},[t._v(" Create Token ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)},D=[],N=s("b311"),R=s.n(N),U=s("9819");function z(t){return Object(U["a"])({url:"tokens",method:"post",data:t})}function q(t={}){const{cancelPrevious:e=!0}=t;return Object(U["a"])({url:"tokens",method:"get",params:t,cancelPrevious:e})}function V(t,e){return Object(U["a"])({url:`tokens/${t}/status`,method:"patch",data:{is_active:e?1:0}})}function J(t,e){return Object(U["a"])({url:"tokens/"+t,method:"patch",data:e})}function H(t){return Object(U["a"])({url:"tokens/"+t,method:"delete"})}var K={name:"CreateToken",components:{Icon:m["a"],Button:h["a"],FlexBox:l["a"],InputText:f["a"],Block:r["a"],Form:w["a"],Modal:C["a"]},props:{visible:{type:Boolean},isLoading:{type:Boolean}},data(){return{modalTitle:"Create new token",title:"",error:"",isSubmitting:!1,token:"",isTokenReceived:!1,clipboard:null}},mounted(){this.clipboard=new R.a("#clip")},methods:{onSubmit(){const{title:t}=this;this.isSubmitting=!0,z({title:t}).then(({temp_token:t})=>{this.token=t,this.isTokenReceived=!0,this.modalTitle="Token created successfully",this.$emit("success")}).catch(t=>{this.error=t.title||t.message||t}).finally(()=>{this.isSubmitting=!1})},close(){this.modalTitle="Create new token",this.title="",this.token="",this.error="",this.isTokenReceived=!1,this.$emit("close")}}},W=K,Y=Object(S["a"])(W,O,D,!1,null,"1beba295",null),G=Y.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Block",[s("UpdateStatus",{attrs:{visible:t.isStatusModalShown,field:"token: <b>"+t.targetToken.title+"</b>",status:t.targetToken.status,submission:t.updateStatus},on:{success:t.setStatus,close:function(e){t.isStatusModalShown=!1}}}),s("CardBase",{staticClass:"mb-3"},[s("Row",[s("Block",{staticClass:"col-md-3"},[s("InputSelect",{attrs:{title:"Status","option-value":"value","option-text":"name",options:t.statuses},on:{select:function(e){return t.$emit("reload")}},model:{value:t.dataFilters.status,callback:function(e){t.$set(t.dataFilters,"status",e)},expression:"dataFilters.status"}})],1),s("Block",{staticClass:"col-md-6 offset-md-3"},[s("Search",{staticClass:"mt-4 pt-1",attrs:{debounce:500},on:{change:function(e){return t.$emit("reload")}},model:{value:t.dataFilters.keyword,callback:function(e){t.$set(t.dataFilters,"keyword",e)},expression:"dataFilters.keyword"}})],1)],1)],1),s("CardBase",{staticClass:"m-0",class:t.isLoading?"":"with-table"},[s("CardLoader",{attrs:{"is-loading":t.isLoading}},[s("Block",{staticClass:"table-responsive collapsible"},[t.tokens.length?s("table",{staticClass:"table m-0"},[s("thead",{staticClass:"bg-gray-lighter"},[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"60px"}},[t._v(" # ")]),s("th",{staticClass:"pl-4 wrappable"},[t._v(" Token Name ")]),s("th",{staticStyle:{width:"15%"}},[t._v(" Token ")]),s("th",[t._v(" Hits ")]),s("th",{staticStyle:{width:"120px"}},[t._v(" Last Used ")]),s("th",{staticClass:"d-none d-xl-table-cell",staticStyle:{width:"120px"}},[t._v(" Last Used IP ")]),s("th",{staticClass:"text-right"},[t._v(" Created ")]),s("th",{staticClass:"text-center"},[t._v(" Status ")]),s("th",{staticStyle:{width:"100px"}})])]),s("tbody",t._l(t.tokens,(function(e,a){return s("tr",{key:e.id,attrs:{title:"view token in detail"},on:{click:function(s){return t.$emit("view",e.id)}}},[s("td",{staticClass:"text-center"},[s("span",{staticClass:"hidden-info"},[t._v("#")]),s("span",[t._v(t._s(a+1))])]),s("td",{staticClass:"pl-4 ml-4"},[s("span",{staticClass:"hidden-info"},[t._v("Token name:")]),s("span",{staticClass:"wrappable"},[t._v(t._s(e.title||"N/A"))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Token:")]),s("span",{staticClass:"wrappable"},[t._v(t._s(e.token_chunk||" N/A"))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Hits:")]),s("span",[t._v(t._s(e.hits||0))])]),s("td",[s("span",{staticClass:"hidden-info"},[t._v("Last used:")]),s("span",[t._v(t._s(e.last_used_at?t.duration(e.last_used_at):"N/A"))])]),s("td",{staticClass:"d-none d-xl-table-cell"},[s("span",{staticClass:"hidden-info"},[t._v("Last used IP:")]),s("span",[t._v(t._s(e.last_used_ip||"N/A"))])]),s("td",{staticClass:"text-right"},[s("span",{staticClass:"hidden-info"},[t._v("Created:")]),s("span",[t._v(t._s(t.duration(e.created_at)))])]),s("td",{staticClass:"text-center"},[s("span",{staticClass:"hidden-info"},[t._v("Status")]),s("StatusColumn",{attrs:{status:e.is_active},on:{change:function(s){return t.onStatusUpdate(e,s)}}})],1),s("td",[s("span",{staticClass:"hidden-info"}),s("FlexBox",{attrs:{"align-items":"center",justify:"end"}},[s("Button",{staticClass:"p-2 mx-1 text-dark",attrs:{color:"light",title:"edit token"},on:{click:function(s){return t.$emit("edit",e)}}},[s("Icon",{attrs:{type:"fa",name:"pencil",size:"regular"}})],1),s("Button",{staticClass:"p-2 mx-1 text-danger",attrs:{color:"light",title:"delete token"},on:{click:function(s){return t.$emit("delete",e)}}},[s("Icon",{attrs:{type:"fa",name:"trash",size:"regular"}})],1)],1)],1)])})),0)]):s("Block",{staticClass:"min-height-300 d-flex flex-row justify-content-center align-items-center"},[s("h4",{staticClass:"text-gray-dark font-w300"},[t._v(" Tokens not Found ")])])],1)],1)],1)],1)},X=[],Z=s("2ef0"),tt=s("0af5"),et=s("ac13"),st=s("1824"),at=s("dd08"),ot={name:"TokensTable",components:{Block:r["a"],FlexBox:l["a"],Button:h["a"],Row:_["a"],Search:at["a"],UpdateStatus:st["a"],Icon:m["a"],InputSelect:tt["a"],CardBase:M["a"],CardLoader:F["a"],StatusColumn:et["a"]},props:{tokens:{type:Array,default(){return[]}},dataFilters:{type:Object,default(){return{}}},isLoading:{type:Boolean}},data(){return{targetToken:{},isStatusModalShown:!1,statuses:[{name:"All",value:null},{name:"Active",value:1},{name:"Inactive",value:0}]}},methods:{updateStatus(){const{id:t,status:e}=this.targetToken;return V(t,e)},setStatus(){const t=this.targetToken,e=Object(Z["findIndex"])(this.tokens,["id",t.id]);this.tokens[e].is_active=t.status?1:0},onStatusUpdate(t,e){this.targetToken={...t,status:e},this.isStatusModalShown=!0}}},it=ot,nt=(s("da32"),Object(S["a"])(it,Q,X,!1,null,"ff66dcb6",null)),rt=nt.exports,lt=s("7228"),ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{attrs:{title:"Update token","hide-controls":"","modal-style":"max-width: 500px;",visible:t.visible},on:{closed:t.reset,close:t.close}},[s("Block",{staticClass:"px-4 pb-2"},[s("Form",{on:{submit:t.onSubmit}},[s("InputText",{attrs:{required:"",title:"Name",placeholder:"Application name or where this token will be used"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),s("FlexBox",{attrs:{justify:"end"}},[s("Button",{attrs:{type:"submit",color:"primary",loading:t.isSubmitting}},[t._v(" Update ")]),s("Button",{staticClass:"ml-2",attrs:{color:"secondary"},on:{click:t.close}},[t._v(" Cancel ")])],1)],1)],1)],1)},dt=[],ut={name:"EditToken",components:{Button:h["a"],FlexBox:l["a"],Block:r["a"],InputText:f["a"],Modal:C["a"],Form:w["a"]},props:{token:{type:Object,default(){return{}}},visible:{type:Boolean,default:!1}},data(){return{title:"",error:{},isLoading:!1,isSubmitting:!1,isUserFormShown:!0}},watch:{token:{handler({title:t}){this.title=t},immediate:!0,deep:!0}},methods:{onSubmit(){this.isSubmitting=!0;const{title:t}=this;J(this.token.id,{title:t}).then(t=>{this.error={},this.close(),this.$emit("success",t),this.$toast.success("Token updated successfully"),this.close()}).catch(t=>{"object"===typeof t?this.error=t:this.$toast.error(t)}).finally(()=>{this.isSubmitting=!1})},close(){this.isLoading&&this.isSubmitting||this.$emit("close")},reset(){this.token={},this.isLoading=!1,this.isUserFormShown=!0}}},ht=ut,mt=Object(S["a"])(ht,ct,dt,!1,null,"a3de4e48",null),pt=mt.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Modal",{staticClass:"delete-token-modal",attrs:{title:"Delete this token permanently?",visible:t.visible,loading:t.isLoading,"modal-style":"max-width: 550px;"},on:{close:t.close,success:t.deleteToken}},[s("Block",{staticClass:"px-4"},[s("Block",{staticClass:"token-details"},[s("table",{staticClass:"w-100"},[s("tbody",[s("tr",[s("th",{staticStyle:{width:"60px"}},[t._v(" Name: ")]),s("td",[t._v(" "+t._s(t.token.title||" N/A")+" ")])]),s("tr",[s("th",{staticStyle:{width:"70px"}},[t._v(" Token: ")]),s("td",[t._v(" "+t._s(t.token.token_chunk||" N/A")+" ")])])])])])],1)],1)},ft=[],wt={name:"DeleteToken",components:{Block:r["a"],Modal:C["a"]},props:{visible:{type:Boolean,default:!1},token:{type:Object,default(){return{}}}},data(){return{isLoading:!1}},methods:{deleteToken(){this.isLoading=!0,H(this.token.id).then(()=>{this.$emit("success"),this.$toast.success("Token deleted successfully!"),this.close()}).catch(t=>{const e=t||"Couldn't delete token.";this.$toast.error(e)}).finally(()=>{this.isLoading=!1,this.close()})},close(){this.isLoading||this.$emit("close")}}},kt=wt,gt=(s("8b0b"),Object(S["a"])(kt,bt,ft,!1,null,null,null)),_t=gt.exports,vt={name:"ApiCredentials",components:{Block:r["a"],DeleteToken:_t,EditToken:pt,CardBase:M["a"],TokensTable:rt,CreateToken:G,Button:h["a"],FlexBox:l["a"]},props:{id:{type:[String,Number],default:null},editMode:{type:Boolean,default:!1},isSuper:{type:Boolean}},data(){return{isRequestTokenModalShown:!1,isListingTokens:!1,isEditModalShown:!1,isDeleteModalShown:!1,isStatusModalShown:!1,targetToken:{},tokens:[],dataFilters:{status:1,keyword:""},pagination:{pages:1,current:1,perPage:15}}},computed:{passwordMatched(){const t=this.newPassword===this.confirmPassword;return t?null:"Password didn't match."},strongPassword(){const t=this.newPassword.length>5;return t?null:"Password must be at least of six characters."},isValidated(){return this.oldPassword.length&&null===this.passwordMatched&&null===this.strongPassword}},created(){this.fetchData()},mounted(){this.$bus.on("router-link-clicked",()=>{this.isListingTokens||this.fetchData()})},beforeDestroy(){this.$bus.removeAllListeners("router-link-clicked")},methods:{fetchData(){this.listTokens()},listTokens(t){this.isListingTokens=!0;const{status:e,keyword:s}=this.dataFilters;this.isLoading=!0,q({is_active:e||null,keyword:s||null,page:t||null,per_page:this.pagination.perPage}).then(({data:t,meta:e})=>{this.tokens=t,this.pagination=Object(lt["b"])(e)}).catch(t=>{"request-cancel"!==t&&this.$toast.error("There was an error while fetching data.")}).finally(()=>{this.isListingTokens=!1})},onEditToken(t){this.targetToken=t,this.isEditModalShown=!0},onDeleteToken(t){this.targetToken=t,this.isDeleteModalShown=!0}}},Ct=vt,xt=Object(S["a"])(Ct,L,E,!1,null,null,null),yt=xt.exports,St={name:"Settings",components:{ApiCredentials:yt,FlexBox:l["a"],Block:r["a"],Profile:A,Alert:i["a"]},props:{page:{type:String,default:""}},data(){return{loading:!0,fetchingMeta:!1}},computed:{...Object(n["c"])(["user","hasAllMandatoryDetails","role"]),isSuperAdmin(){return"SUPER_ADMIN"===this.role}},methods:{...Object(n["b"])(["fetchUserMeta"]),fetchMeta(){this.fetchingMeta=!0,this.fetchUserMeta().finally(()=>{this.fetchingMeta=!1})}}},Bt=St,Tt=Object(S["a"])(Bt,a,o,!1,null,"b90d379c",null);e["default"]=Tt.exports},da32:function(t,e,s){"use strict";s("52a1")}}]);